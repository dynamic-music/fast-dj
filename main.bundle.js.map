{"version":3,"sources":["/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/$_gendir lazy","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/api.service.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.css","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.html","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.module.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.css","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.html","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/util.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/environments/environment.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/main.ts","/Users/flo/Projects/Code/FAST/fast-dj/fast-dj/node_modules/n3/lib ^\\.\\/N3.*$","util (ignored)","vertx (ignored)"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","import { Injectable } from '@angular/core';\nimport { Transition } from 'auto-dj';\n\n@Injectable()\nexport class ApiService {\n\n  private API_URL = \"https://fast-dj.herokuapp.com/\";//\"http://localhost:8060/\";\n\n  addTransition(transition: Transition) {\n    //TODO ADD TIME!!!!!!!!!\n    return this.postJsonToApi('transition', transition);\n  }\n\n  getAllTransitions(): Promise<Transition[]> {\n    return this.getJsonFromApi('transitions');\n  }\n\n  private postJsonToApi(path: string, json: {}, params?: {}) {\n    path = this.addParams(path, params);\n    return fetch(this.API_URL+path, {\n      method: 'post',\n      body: JSON.stringify(json),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(r => r.text())\n      //.then(r => {console.log(r); return r})\n      .then(t => JSON.parse(t))\n      .catch(e => console.log(e));\n  }\n\n  private getJsonFromApi(path: string, params?: {}): Promise<any> {\n    path = this.addParams(path, params);\n    return fetch(this.API_URL+path)\n      .then(r => r.text())\n      .then(t => JSON.parse(t))\n      .catch(e => console.log(e));\n  }\n\n  private addParams(path, params?: {}) {\n    if (params) {\n      let paramStrings = Array.from(Object.keys(params))\n        .map(k => k+\"=\"+encodeURIComponent(params[k]));\n      path += '?'+paramStrings.join('&');\n    }\n    return path;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/api.service.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".custom-component-drop-zone {\\n  width: 100%;\\n  height: 100%;\\n  font-size: 50px;\\n  font-family: \\\"Comic Sans MS\\\";\\n  text-align: center;\\n}\\n\\n.status-indicator {\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0.9;\\n  overflow: auto;\\n  transition: background-color 0.1s ease-in-out;\\n}\\n\\n.beat {\\n  opacity: 1.0;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div\\n  ng2FileDrop\\n  class=\\\"custom-component-drop-zone\\\"\\n  (ng2FileDropFileAccepted)=\\\"dragFileAccepted($event)\\\"\\n>\\n  <div\\n    [ngClass]=\\\"{beat: state.status.type === 'SPINNING', 'status-indicator': true}\\\"\\n    [style.backgroundColor]=\\\"state.status.colour\\\"\\n  >\\n    <h1>FAST DJ</h1>\\n    <h2>{{state.status.type}}</h2>\\n    <p>{{state.status.message}}</p>\\n    <!--[hidden]=\\\"!transitionDone || ratingDone\\\"-->\\n    <star-rating [hidden]=\\\"!transitionDone || ratingDone\\\"\\n      [rating]=\\\"lastTransitionRating\\\"\\n      (ratingChange)=\\\"lastTransitionRating = $event.rating\\\"\\n      (starClickChange)=\\\"onRatingChange($event)\\\"\\n       labelText=\\\"last transition rating\\\"\\n      size=\\\"large\\\" labelPosition=\\\"bottom\\\" staticColor=\\\"default\\\" starType=\\\"svg\\\">\\n    </star-rating>\\n    <p [hidden]=\\\"!ratingDone\\\">drop more audio</p>\\n    <dj-dev-controls *ngIf=\\\"state.inDevMode\\\">Text to show</dj-dev-controls>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import 'rxjs/add/operator/map';\nimport { Component, OnInit } from '@angular/core';\nimport { Ng2FileDropAcceptedFile } from 'ng2-file-drop';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from './api.service';\nimport { getUserGuid } from './util';\nimport {Â AutoDj, Transition } from 'auto-dj';\nimport { Learner } from './test-learning';\n\nfunction* createColourCycleIterator(colours: string[]) {\n  let index = 0;\n  const nColours = colours.length;\n  while (true) {\n    yield colours[index = ++index % nColours];\n  }\n}\n\ninterface StatusIndictator {\n  colour: string;\n  message: string;\n  type: string;\n}\n\ninterface AppState {\n  inDevMode: boolean;\n  status: StatusIndictator;\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit  {\n\n  //accessed in html\n  protected lastTransitionRating: number = 0;\n  protected transitionDone: boolean = false;\n\n  private cyclicColours: Iterator<string>;\n  private currentState: AppState;\n  private songNames: string[] = [];\n  private lastTransition: Transition;\n  private ratingDone: boolean = false;\n  private dj: AutoDj;\n\n  private get state(): AppState {\n    return this.currentState;\n  }\n  private set state(newState: AppState) {\n    this.currentState = newState;\n  }\n\n  private set status(type: string) {\n    const status = {\n      ...this.state.status,\n      type\n    };\n    this.state = {\n      ...this.state,\n      status\n    };\n  }\n  private set message(message: string) {\n    const status = {\n      ...this.state.status,\n      colour: this.getNextColour(),\n      message\n    };\n    this.state = {\n      ...this.state,\n      status\n    };\n  }\n\n  constructor(private route: ActivatedRoute, private apiService: ApiService) {\n    //GlobalVars.LOGGING_ON = true;\n    this.cyclicColours = createColourCycleIterator([\n      '#5bc0eb',\n      '#fde74c',\n      '#9bc53d',\n      '#e55934',\n      '#fa7921'\n    ]);\n    this.state = {\n      inDevMode: false,\n      status: {\n        type: 'INITIALISING',\n        message: 'loading',\n        colour: this.getNextColour()\n      }\n    };\n  }\n\n  async ngOnInit() {\n    this.route\n    .queryParamMap\n    .map(params => {\n      this.state = {\n        ...this.state,\n        inDevMode: params.has('dev')\n      };\n    })\n    .subscribe();\n\n    this.dj = new AutoDj();\n    await this.dj.isReady();\n    this.status = 'READY';\n    this.message = 'drop audio here';\n    this.dj.getBeatObservable()\n      .subscribe(_ => {\n        this.status = this.state.status.type === \"SPINNING\" ?\n          \"spinning\" : \"SPINNING\";\n      })\n      /*this.dj.playDjSet([\n        'https://cdns-preview-b.dzcdn.net/stream/c-b70e81f72475ff650226b63186f67f6a-8.mp3',\n        'https://cdns-preview-5.dzcdn.net/stream/c-596f37782baf051cc621c40e95f8970d-2.mp3',\n        'https://cdns-preview-9.dzcdn.net/stream/c-980531ccb9706735665368c704a7ef72-3.mp3'\n      ], 6, false);*/\n\n    //new Learner(this.apiService).testWithStudySet();\n    //new Learner(this.apiService).testWithIris();\n  }\n\n  //called from html\n  protected async dragFileAccepted(acceptedFile: Ng2FileDropAcceptedFile) {\n    if (this.ratingDone || this.state.status.type === 'READY') {\n      this.transitionDone = false;\n      this.ratingDone = false;\n      this.lastTransitionRating = 0;\n      const url = URL.createObjectURL(acceptedFile.file);\n      this.songNames.push(acceptedFile.file.name);\n      this.message = (\"checking out \"+acceptedFile.file.name).toLowerCase();\n      this.lastTransition = await this.dj.transitionToTrack(url);\n      this.message = \"transitioning to \" + acceptedFile.file.name.toLowerCase();\n      //when transition done:\n      setTimeout(() => {\n        this.transitionDone = true;\n        this.message = \"playing \" + acceptedFile.file.name.toLowerCase();\n      }, this.lastTransition.duration*1000 + 3000);\n    }\n  }\n\n  //called from html\n  protected onRatingChange(event) {\n    if (this.lastTransition) {\n      this.lastTransition.user = getUserGuid();\n      this.lastTransition.rating = event.rating;\n      this.lastTransition.names = this.songNames.slice(-2);\n      this.apiService.addTransition(this.lastTransition);\n      setTimeout(() => this.ratingDone = true, 2000);\n    }\n  }\n\n  private getNextColour(): string {\n    return this.cyclicColours.next().value;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { Ng2FileDropModule } from 'ng2-file-drop';\nimport { ApiService } from './api.service';\nimport { RouterModule } from '@angular/router';\nimport { DevControlsComponent } from './dev-controls/dev-controls.component';\nimport { StarRatingModule } from 'angular-star-rating';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DevControlsComponent\n  ],\n  imports: [\n    BrowserModule,\n    Ng2FileDropModule,\n    RouterModule.forRoot([]),\n    StarRatingModule.forRoot()\n  ],\n  providers: [\n    ApiService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/app.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.css\n// module id = ../../../../../src/app/dev-controls/dev-controls.component.css\n// module chunks = main","module.exports = \"<p>\\n  dev-controls works!\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.html\n// module id = ../../../../../src/app/dev-controls/dev-controls.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dj-dev-controls',\n  templateUrl: './dev-controls.component.html',\n  styleUrls: ['./dev-controls.component.css']\n})\nexport class DevControlsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/dev-controls/dev-controls.component.ts","/**\n * Creates GUID for user based on several different browser variables\n * It will never be RFC4122 compliant but it is robust\n */\nexport function getUserGuid(): string {\n    const nav = window.navigator;\n    const screen = window.screen;\n    let guid: string = nav.mimeTypes.length.toString();\n    guid += nav.userAgent.replace(/\\D+/g, '');\n    guid += nav.plugins.length;\n    guid += screen.height || '';\n    guid += screen.width || '';\n    guid += screen.pixelDepth || '';\n    return guid;\n};\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/app/util.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/src/main.ts","var map = {\n\t\"./N3Lexer\": \"../../../../n3/lib/N3Lexer.js\",\n\t\"./N3Lexer.js\": \"../../../../n3/lib/N3Lexer.js\",\n\t\"./N3Parser\": \"../../../../n3/lib/N3Parser.js\",\n\t\"./N3Parser.js\": \"../../../../n3/lib/N3Parser.js\",\n\t\"./N3Store\": \"../../../../n3/lib/N3Store.js\",\n\t\"./N3Store.js\": \"../../../../n3/lib/N3Store.js\",\n\t\"./N3StreamParser\": \"../../../../n3/lib/N3StreamParser.js\",\n\t\"./N3StreamParser.js\": \"../../../../n3/lib/N3StreamParser.js\",\n\t\"./N3StreamWriter\": \"../../../../n3/lib/N3StreamWriter.js\",\n\t\"./N3StreamWriter.js\": \"../../../../n3/lib/N3StreamWriter.js\",\n\t\"./N3Util\": \"../../../../n3/lib/N3Util.js\",\n\t\"./N3Util.js\": \"../../../../n3/lib/N3Util.js\",\n\t\"./N3Writer\": \"../../../../n3/lib/N3Writer.js\",\n\t\"./N3Writer.js\": \"../../../../n3/lib/N3Writer.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../../../../n3/lib recursive ^\\\\.\\\\/N3.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/FAST/fast-dj/fast-dj/node_modules/n3/lib ^\\.\\/N3.*$\n// module id = ../../../../n3/lib recursive ^\\.\\/N3.*$\n// module chunks = main","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 1\n// module chunks = main","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// vertx (ignored)\n// module id = 2\n// module chunks = main"],"sourceRoot":"webpack:///"}